## 戰鬥中屬性控制
戰鬥中固定的屬性增減可以通過 combat_buffs 設定，但是動態的屬性變化一般通過 skill_params 設定。

首先要說明四維bitmask，用於表示具體改變哪幾項四維：

 - atk = 0x2
 - spd = 0x4
 - def = 0x8
 - res = 0x16

表示敵人則在bitmask 十進制數前加一個1，如 30 表示自己全部四維提升，130表示敵人全部四維下降

### 一些猜測
 - 在最大值的位置，似乎可以用百位和千位表示最小值，如 313 表示最大13, 最小3

### 屬性控制類別
skill 文件中有一個值表示如何計算動態屬性，下面對每個類別分別討論。
#### 類別 1
根據某項四維值改變四維。
 - hp: 值爲 ABC 表示根據自己的屬性提高四維 A 的 BC%，其中 A 爲 1, 2, 3, 4 時分別代表攻速防抗。 在前面增加一個 1 變成 1ABC 表示根據敵方的 A 來計算。如 210 表示 10% 速度， 1210 表示敵人 10% 速度。
 - atk: 需要改變的四維，詳見前述四維 bitmask
 - spd: 修正值，計算出的值會加上這個修正值，修正值一般爲負數，但不會把數值修正到 0 以下。
 - def: 四維增加的上限
 - res: 未知
 - 
#### 類別 2
根據奧義最大計量改變四維
 - hp: 未知，一般爲 0
 - atk: 倍數，周圍我方數量會乘上這個數，結果就是四維的改變值。
 - spd: 加成上限
 - def: 四維 bitmask
 - res: 未知

#### 類別 3
根據周圍我方數量改變四維
 - hp: 似乎表示範圍，已有數據都是 3，技能效果也都是計算 3 格內我方數量
 - atk: 倍數，周圍我方數量會乘上這個數，結果就是四維的改變值。
 - spd: 加成上限
 - def: 四維 bitmask
 - res: 未知

#### 類別5
根據周圍我方出處種類數量改變四維

參考類別3

#### 類別6
根據敵方、我方出強化、弱化狀態數量改變四維

參考類別2

注意 res 表示具體時參考哪一方，以及是計算強化、弱化還是兩者之和，具體待調查。

#### 類別7
根據周圍我方強化的最高值分別加成
 - hp: 表示範圍
 - atk: 倍率，似乎一般爲100
 - spd: 四維 bitmask

#### 類別8
根據敵方周圍弱化的最高值

參考類別7

#### 類別10
根據攻擊方移動前後格子的距離
 - hp:  倍數
 - atk: 格子數計算上限
 - spd: 四維 bitmask

#### 類別11
根據神龍之花數
 - hp:  倍數
 - atk: 四維數值變動上限
 - spd: 四維 bitmask

#### 類別12
根據周圍敵人數量（包含自身）
 - hp:  範圍
 - atk: 倍數，似乎是 101 表示計算敵人，也許 001 表示計算我方
 - spd: 上限
 - def: 四維 bitmask

#### 類別13
根據多個四維差值中的最大值
 - hp:  需要計算差值的四維 bitmask
 - atk: 倍數
 - spd: 上限
 - def: 四維 bitmask

#### 類別14
根據敵方周圍具有某種狀態敵人數量（含戰鬥對手）
 - hp:  範圍
 - atk: 倍數
 - spd: 上限
 - def: 四維 bitmask
 - res: 狀態id

#### 類別15
根據敵方強化值分別下降
 - hp:  倍率（百分比）
 - atk: 四維 bitmask，計算敵方，不需要在前面加1

#### 類別15
根據自身最大Hp-敵人hp
 - hp:  1，待分析，是
 - atk: 倍數
 - spd: 最大值
 - def: 四維 bitmask

#### 類別17
根據自己和周圍友軍某幾項四維的合計最大值計
 - hp:  範圍
 - atk: 需要合計的幾項 四維 bitmask
 - spd: 倍率
 - def: 需要變化的四維 bitmask


